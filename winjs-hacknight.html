<!DOCTYPE html>

<!--
/* Copyright (c) 2013 Szymon Rozga
 *
 * See the file LICENSE.txt for copying permission. */
 -->

<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=1024, user-scalable=no">

	<title>WinJS Hacknight++</title>
	
	<!-- Required stylesheet -->
	<link rel="stylesheet" href="deck.js/core/deck.core.css">
	
	<!-- Extension CSS files go here. Remove or add as needed. -->
	<link rel="stylesheet" href="deck.js/extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="deck.js/extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="deck.js/extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="deck.js/extensions/status/deck.status.css">
	<link rel="stylesheet" href="deck.js/extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="deck.js/extensions/scale/deck.scale.css">

	<!-- Style theme. More available in /themes/style/ or create your own. -->
	<!--<link rel="stylesheet" href="themes/style/web-2.0.css">-->
	<link rel="stylesheet" href="my-styles/swiss-custom.css">
	
	<!-- Transition theme. More available in /themes/transition/ or create your own. -->
	<link rel="stylesheet" href="deck.js/themes/transition/horizontal-slide.css">
	
	<!-- Required Modernizr file -->
	<script src="deck.js/modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Begin slides. Just make elements with a class of slide. -->

<section class="slide">
	<div>
		<h1>WinJS Hacknight++</h1>
		<h3>Szymon Rozga</h3>
		<h4><a href="mailto:srozga@bluemetal.com">srozga@bluemetal.com</a></h4>	
	</div>
</section>

<section class="slide">
	<h2>What is WinJS?</h2>
	<ul>
		<li>WinJS is <a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229782.aspx">a JavaScript library</a></li>
		<li>Windows 8 App in sandboxed IE 10 container</li>
		<li>Plus access to <a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211377.aspx">WinRT libraries</a> (except .XAML*)</li>
		<li>Use any JavaScript libraries you want. JQuery, d3, RequireJS, Underscore, Knockout, Backbone, etc, etc, etc.</li>
	</ul>
</section>

<section class="slide">
	<h2>The simplest app</h2>
	<pre>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;title&gt;Simplest WinJS app ever!&lt;/title&gt;

    &lt;!-- WinJS references --&gt;
    &lt;link href="//Microsoft.WinJS.1.0/css/ui-dark.css" rel="stylesheet" /&gt;
    &lt;script src="//Microsoft.WinJS.1.0/js/base.js"&gt;&lt;/script&gt;
    &lt;script src="//Microsoft.WinJS.1.0/js/ui.js"&gt;&lt;/script&gt;
<&lt;/head&gt;
&lt;body&gt;
    &lt;h1>My App&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</section>


<section class="slide">
	<h2>The simplest app deconstructed</h2>
	<p>The simplest app is composed of:</p>
	<ul>
		<li>default.html page</li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh846296.aspx">App images</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh464929.aspx">Manifest file</a> (specifies images and start page)</li>
	</ul>
</section>

<section class="slide">
	<h2>Simple sucks, what else ya got?</h2>
	<ul>
		<li>default.js</li>
		<li style="list-style-type:none">
         <ul>
           <li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229774.aspx">WinJS.Application</a></li>
           <li><a href="http://msdn.microsoft.com/library/windows/apps/BR224766">Windows.ApplicationModel.Activation</a> and <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.applicationmodel.activation.activationkind.aspx">ActivationKind</a></li>
        </ul>
	     </li>
		<li>default.css</li>
	</ul>
</section>

<section class="slide">
	<h2>WinJS Promises</h2>
	<ul>
		<li>JavaScript single threaded, but can still write asynchronous code using <a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211867.aspx">WinJS.Promise</a></li>
		<li>Object that represents the result of an asychronous action</li>
		<li>Follows the <a href="http://wiki.commonjs.org/wiki/Promises">Promises CommonJS spec</a></li>
	</ul>
</section>
<section class="slide">
	<h2>WinJS Promises: usage</h2>
	<pre>
var promise = somethingThatReturnsAPromise();
promise.then(
    function(result) {
		// do something with result
    },
    function(error) {
    	// do something with error
    },
    function(progress) {
    	// do something with progress
    });
// NOTE: promise.then returns a promise object. Chaining!
	</pre>
</section>
<section class="slide">
	<h2>WinJS Promises: creating a promise</h2>
	<pre>
var promise = new WinJS.Promise(
    function(completed, error, progress) {
        
        completed('some value'); // call this when the task has completed
        error('this is not working'); // call this when an error occurs
        // complete() or error() stops the promise execution

        progress('progress arg'); 
        // call this if you want to report optional progress. 
        // DO NOT depend on this to be called.
});
	</pre>
</section>

<section class="slide">
<h2>WinJS Namespaces, Classes and Mixins</h2>
<pre>
WinJS.Namespace.define('Rozga.WinJS', {
	function1:function() { return 1; }
});
var a = Rozga.WinJS.function1(); // value will be 1

var CustomClass = WinJS.Class.define(function() { }, { isCloseToAwesome: function() { return true; }}, staticMember);
var isAwesome = new CustomClass().isAwesome(); // isAwesome is undefined!

var AwesomeMixin = {
	isAwesome : function() { return true;}	
};
WinJS.Class.mix(CustomClass, AwesomeMixin);
var comeOnAmIAwesomeNow = new CustomClass().isAwesome(); // value is now true
</pre>
</section>

<section class="slide">
	<h2>WinJS Controls</h2>
	<p>WinJS provides a bunch of re-usable controls. Think Windows 8 look &amp; feel.</p>
	<ul>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229670.aspx">AppBar</a> / <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh700497.aspx">AppBarCommand</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211681.aspx">DatePicker</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211711.aspx">FlipView</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211726.aspx">Flyout</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh700625.aspx">HtmlControl</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211837.aspx">ListView</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh700921.aspx">Menu</a> / <a href="http://msdn.microsoft.com/en-us/library/windows/apps/hh700879.aspx">MenuCommand</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br211895.aspx">Rating</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229690.aspx">SemanticZoom</a></li>
	</ul>
</section>

<section class="slide">
	<h2>WinJS Controls continued</h2>
	<pre>
&lt;div id='listview' data-win-control='WinJS.UI.ListView' 
                   data-win-options='{property:value}'&gt;&lt;div&gt;
	</pre>

	<pre>
WinJS.UI.processAll(); // indicentally, this returns a promise

WinJS.UI.processAll().then(function() { 
    //$('#listview')[0].winControl is an instance of a WinJS.UI.ListView
});
	</pre>
</section>

<section class="slide">
	<h2>WinJS Controls continued</h2>
	<pre>
var CustomControl = WinJS.Class.define(
    function(element, options) {
        // element is the DOM element
        // options is the data-win-options values
    }, 
    { ... put your instance methods here ... });
	</pre>
	<ul>
		<li><a href="http://www.codeproject.com/Articles/469657/How-to-Write-a-WinJS-Custom-Control">Building a custom WinJS control</a></li>
	</ul>
</section>

<section class="slide">
	<h2>Two ways to instantiate WinJS Controls</h2>
	<pre>
&lt;div id='element' data-win-control='CustomControl' /&gt;
var control = $('#element')[0].winControl;

OR

&lt;div id='element' /&gt;
var control = new CustomControl($('#element'), null);
	</pre>

</section>

<section class="slide">
	<h2>Data Binding</h2>
	<pre>
&lt;div data-win-bind="text: name"&gt;&lt;/div&gt;

var vm = { name: "Szymon Rozga", email: "srozga@bluemetal.com" };
WinJS.Binding.processAll($('body'), vm);

	</pre>

	<ul>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229775.aspx">Binding namespace</a></li>
		<li><a href="http://msdn.microsoft.com/en-us/library/windows/apps/br229846.aspx">WinJS.Binding.processAll()</a></li>
	</ul>
</section>


<section class="slide">
	<h2>ListView Control</h2>

	<pre>&lt;div id='itemTemplate' data-win-control='WinJS.Binding.Template'&gt;
    &lt;div&gt;
        &lt;h1 data-win-bind='text: itemTitle' /&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id="listview" data-win-control="WinJS.UI.ListView"
                   data-win-options="{itemTemplate:select('#itemTemplate')}"&gt;&lt;div&gt;

var lv = $('#listview')[0].winControl;
var data = new WinJS.Binding.List([{itemTitle: 'item1'},{itemTitle: 'item2'},{itemTitle: 'item3'}]);
lv.itemDataSource = data.dataSource;
lv.itemInvoked = function(itemPromise) { 
    itemPromise.done(function(item) {
        // handle item tapped
    });
};
lv.selectionChanged= function() {
	lv.selection.getItems().done(function(items) {
        // do something with selected items
    });
};</pre>
</section>

<section class="slide">
	<h2>ListView continued</h2>

	<p>Very customizable</p>
	<ul>
		<li><a href="">WinJS.UI.ListLayout</a> vs <a href="">WinJS.UI.GridLayout</a></li>
		<li><a href="">Selection (none,single,multi)</a>, <a href="">Swipe Behavior</a>, <a href="">Tap Behavior</a></li>
		<li>Custom <a href="">IListDataAdapter</a> implementations</li>
	</ul>
</section>

<section class="slide">
	<h2>Navigation</h2>
	<ul>
		<li>Use the Navigation project template</li>
		<li>Remember: IN PLACE navigation, JavaScript + CSS are just added into memory, not cleared out of it</li>
		<li><a href="">WinJS.Navigation</a> !TODOLINK!</li>
	</ul>

	<pre>WinJS.Navigation.navigate(uri, options);</pre>
</section>

<!-- End slides. -->


<!-- Begin extension snippets. Add or remove as needed. -->

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
	<datalist id="goto-datalist"></datalist>
	<input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- End extension snippets. -->


<!-- Required JS files. -->
<script src="deck.js/jquery-1.7.2.min.js"></script>
<script src="deck.js/core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="deck.js/core/deck.core.js"></script>
<script src="deck.js/extensions/hash/deck.hash.js"></script>
<script src="deck.js/extensions/menu/deck.menu.js"></script>
<script src="deck.js/extensions/goto/deck.goto.js"></script>
<script src="deck.js/extensions/status/deck.status.js"></script>
<script src="deck.js/extensions/navigation/deck.navigation.js"></script>
<script src="deck.js/extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
